<!DOCTYPE html>
<html ng-app="brusselNieuwsRss">
	<head>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
		<title>Brussel Nieuws RSS Reader</title>
	</head>
	<body>
		<!--<script type="text/javascript" src="js/angular.min.js"></script>-->
		<script type="text/javascript" src="js/angular.js"></script>
		<script type="text/javascript" src="js/brusselNieuwsRss.js"></script>
		<p>{{"Brussel Nieuws RSS Reader"}}</p>
		<section ng-controller="FeedsCategoriesController as feedsCategoriesController">
			<ul class="nav nav-pills">
				<li ng-repeat="feedCategoryResponse in feedsCategoriesController.feedsCategoriesResponse.feedCategoryResponses | orderBy:feedCategoryResponse.translatedName"
					ng-class="{active:feedsCategoriesController.isSelected(feedCategoryResponse.name)}">
					<a href ng-click="feedsCategoriesController.selectCategoryByName(feedCategoryResponse.name)">{{feedCategoryResponse.translatedName}}</a>
				</li>
			</ul>
			<section ng-controller="FeedsMetaController as feedsMetaController">
				<ul class="nav nav-pills">
					<li ng-repeat="feedMetaResponse in feedsMetaController.feedsMetaResponse.feedMetaResponses | orderBy:feedMetaResponse.translatedName" 
						ng-class="{active:feedsMetaController.isSelected(feedMetaResponse.requestId)}"
					    ng-show="feedMetaResponse.category==feedsCategoriesController.getCategoryName()">
						<a href ng-click="feedsMetaController.selectFeedByRequestId(feedMetaResponse.requestId)">{{feedMetaResponse.translatedName}}</a>
					</li>	
				</ul>
				<section ng-controller="FeedController as feedController">
					<a href="{{feedController.feedResponse.link}}" target="_blank">{{feedController.feedResponse.title}}</a>
					<ul>
						<li ng-repeat="article in feedController.feedResponse.articles">
							<p>{{article.publicationDate | date:'HH:mm dd/MM/yy'}} - {{article.title}} 
								<a href="{{article.link}}" target="_blank">
									<img src="http://www.brusselnieuws.be/sites/all/themes/custom/brusselnieuws_zen/icons/favicon.ico" 
					     				 alt="{{article.title}}" 
					     				 style="width:15px;height:15px">
					 			</a>
							</p>
							<p><img ng-src="{{article.media[0].link}}"/></p>
							<p>{{article.description}}</p>
							<ul ng-repeat="category in article.categories">
								<li>{{category.name}}
									<a href="{{category.link}}" target="_blank">
										<img src="http://www.brusselnieuws.be/sites/all/themes/custom/brusselnieuws_zen/icons/favicon.ico" 
					     				 alt="{{article.title}}" 
					     				 style="width:15px;height:15px">
									</a>
								</li>
							</ul>
						</li>
					</ul>
				</section>
			</section>
		</section>
	</body>
</html>